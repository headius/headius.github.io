---
layout: post
title: Easy JRuby 1.0.2 Bugs
date: '2007-10-26T22:00:00.000-07:00'
author: headius
tags: 
modified_time: '2011-01-25T21:44:32.412-08:00'
blogger_id: tag:blogger.com,1999:blog-4704664917418794835.post-2819314827789993689
blogger_orig_url: http://blog.headius.com/2007/10/easy-jruby-102-bugs.html
---

For those of you looking to start helping JRuby along, here's a few open 1.0.2 bugs that would be pretty easy for a newb to look at. They'd also help you get your first taste of JRuby internals. Good eatin!<br /><br />This should help get you started:<br /><ul><li> <a href="http://headius.blogspot.com/2007/09/how-easy-is-it-to-contribute-to-jruby.html">How Easy Is It To Contribute To JRuby? Very Easy!</a></li></ul>FYI: Most of these are also 1.1 bugs, so you'll be helping two releases at once (provided you fix them and provide patches for both branches, of course!)<br /><br /><ul><li><a href="http://jira.codehaus.org/browse/JRUBY-1148">Array#== doesn't use custom to_ary method for RHS arguments</a></li></ul>This is fairly simple, isolated core class code. Have a look at src/org/jruby/RubyArray.java<br /><br /><ul><li><a href="http://jira.codehaus.org/browse/JRUBY-1286">'Thread.main.exit!' and/or 'Kernel.exit!' does not work under certain circumstances</a></li></ul>There's a patch here that looks pretty clean, but needs updating to apply cleanly to trunk and 1.0 branch.<br /><br /><ul><li><a href="http://jira.codehaus.org/browse/JRUBY-1079">IO.sysopen not defined</a></li><li><a href="http://jira.codehaus.org/browse/JRUBY-1049">IO.open not defined</a></li></ul>We have File.sysopen defined, but for some reason we don't have IO.sysopen. If you can't fix it, at least do some research as to *why*.<br /><br /><ul><li><a href="http://jira.codehaus.org/browse/JRUBY-1067">Rubinius core/thread_spec failures</a></li></ul>This one throws a NullPointerException, which are always really ugly, really broken, and usually really easy to figure out and fix. The spec in question is our (oldish) copy in test/externals/rubinius/spec/core.<br /><br /><ul><li><a href="http://jira.codehaus.org/browse/JRUBY-1048">Calling IO.new with invalid file descriptor raises NativeException</a></li></ul>This one just needs proper error handling, and there's a preliminary patch provided.<br /><br /><ul><li><a href="http://jira.codehaus.org/browse/JRUBY-1047">IO.for_fd missing</a></li><li><a href="http://jira.codehaus.org/browse/JRUBY-1023">File.new does not support 3rd form (file descriptors)</a></li></ul>I'm not sure if we can support these, but if we can we should. If we can't, we should raise an error. Either way it's probably not hard to resolve.<br /><br /><ul><li><a href="http://jira.codehaus.org/browse/JRUBY-1454">String#unpack("Ux") does not handle multi-bytes correctly</a></li></ul>There's a patch here that just needs a little more work.<br /><br /><ul><li><a href="http://jira.codehaus.org/browse/JRUBY-1371">testTime.rb doesn't work correctly on some configuration</a></li></ul>I don't even understand what's happening in this one, because I keep falling asleep reading the description. I think it's probably easy.<br /><br /><ul><li><a href="http://jira.codehaus.org/browse/JRUBY-1201">TCPSocket.new(dest_adrr, dest_port, src_addr, src_port) missing from JRuby</a></li></ul>Again, there's a patch here that appears to just need a bit more work.<br /><br /><ul><li><a href="http://jira.codehaus.org/browse/JRUBY-1423"><strike>Range#step - strange behavior with alpha range, numeric step</strike></a></li></ul>This one has all the background work done on the JRuby side. We're simply not using the right algorithm for Range#step over character ranges. A quick peek at MRI source or a little insight on how to "just fix it" is all that's needed here, and the code is pretty simple. (<span style="font-style: italic;"><span style="font-weight: bold;">Update:</span></span> Fixed, thanks to Mathias Biilmann Christensen.)<br /><br /><ul><li><a href="http://jira.codehaus.org/browse/JRUBY-1368">Attempting File.open('foo', 'w') when './foo' is a directory raises Errno:ERNOENT, but should raise Errno:EISDIR</a></li></ul>This has a patch that's been applied to trunk, but it didn't apply cleanly to the 1.0 branch. Tidy it up, and it's done.<br /><br /><ul><li><a href="http://jira.codehaus.org/browse/JRUBY-1343"><strike>Signal#trap doesn't work</strike></a></li></ul>...but Kernel#trap does. Huh? (<span style="font-style: italic;"><span style="font-weight: bold;">Update:</span></span> Fixed! Ola had already repaired it, but not closed the bug.)<br /><br /><ul><li><a href="http://jira.codehaus.org/browse/JRUBY-1005"><strike>Array#pack fails for Q/q directives</strike></a></li></ul>This is pretty straightforward...we just don't have Q/q implemented. (<span style="font-style: italic;"><span style="font-weight: bold;">Update:</span></span> Fixed, thanks to Riley Lynch.)