---
layout: post
title: Getting Started with Duby
date: '2010-04-03T17:05:00.000-07:00'
author: headius
tags: 
modified_time: '2011-01-25T21:44:30.553-08:00'
blogger_id: tag:blogger.com,1999:blog-4704664917418794835.post-6335144219172985755
blogger_orig_url: http://blog.headius.com/2010/04/getting-started-with-duby.html
---

Hello again!<br /><br />As you may know, I've been working part-time on a new language called <a href="http://github.com/headius/duby/">Duby</a>. Duby looks like Ruby, since it co-opts the JRuby parser, and includes some of the features of the Ruby language like optional arguments and closures. But Duby is not Ruby; it's statically typed, compiles to "native" code (JVM bytecode, for example) before running, and does not have any built-in library of its own (preferring to just use what's available on a given runtime). Here's a quick sample of Duby code:<br /><pre>class Foo<br />  def initialize(hello:String)<br />    puts 'constructor'<br />    @hello = hello<br />  end<br /><br />  def hello(name:String)<br />    puts "#{@hello}, #{name}"<br />  end<br />end<br /><br />Foo.new('Hiya').hello('Duby')</pre><br />This post is not going to be an overview of the Duby language; I'll get that together soon, once I take stock of where the language stands as far as features go. Instead, this "getting started" post will show how you can grab the Duby repository and start playing with it right now.<br /><br />First you need to pull down three resources: Duby itself, BiteScript (the Ruby DSL I use to generate JVM bytecode), and a JRuby 1.5 snapshot:<br /><pre>~/projects/tmp ➔ git clone git://github.com/headius/duby.git<br />Initialized empty Git repository in /Users/headius/projects/tmp/duby/.git/<br />remote: Counting objects: 2810, done.<br />remote: Compressing objects: 100% (1291/1291), done.<br />remote: Total 2810 (delta 1690), reused 2509 (delta 1447)<br />Receiving objects: 100% (2810/2810), 10.64 MiB | 722 KiB/s, done.<br />Resolving deltas: 100% (1690/1690), done.<br /><br />~/projects/tmp ➔ git clone git://github.com/headius/bitescript.git<br />Initialized empty Git repository in /Users/headius/projects/tmp/bitescript/.git/<br />remote: Counting objects: 470, done.<br />remote: Compressing objects: 100% (404/404), done.<br />remote: Total 470 (delta 166), reused 313 (delta 57)<br />Receiving objects: 100% (470/470), 93.56 KiB, done.<br />Resolving deltas: 100% (166/166), done.<br /><br />~/projects/tmp ➔ curl http://ci.jruby.org/snapshots/jruby-bin-1.5.0.dev.tar.gz | tar xz<br />  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current<br />                                 Dload  Upload   Total   Spent    Left  Speed<br />100 11.3M  100 11.3M    0     0   353k      0  0:00:32  0:00:32 --:--:--  262k<br /><br />~/projects/tmp ➔ ls<br />bitescript duby  jruby-1.5.0.dev<br /><br />~/projects/tmp ➔ mv jruby-1.5.0.dev/ jruby</pre><br />Once you have these three pieces in place, Duby can now be run. It's easiest to put the JRuby snapshot in PATH, but you can just run it directly too:<br /><pre>~/projects/tmp ➔ cd duby<br /><br />~/projects/tmp/duby ➔ ../jruby/bin/jruby bin/duby -e "puts 'hello'"<br />hello<br /><br />~/projects/tmp/duby ➔ ../jruby/bin/jruby bin/dubyc -e "puts 'hello'"<br /><br />~/projects/tmp/duby ➔ java DashE<br />hello</pre><br />Finally, you may want to create a "complete" Duby jar that includes Duby, BiteScript, JRuby, and Java classes for command-line or Ant task usage. Using JRuby 1.5's Ant integration, the Duby Rakefile can produce that for you:<br /><pre>~/projects/tmp/duby ➔ ../jruby/bin/jruby -S rake jar:complete<br />(in /Users/headius/projects/tmp/duby)<br />mkdir -p build<br />Compiling Ruby sources<br />Generating Java class DubyCommand to DubyCommand.java<br />javac -d build -cp ../jruby/lib/jruby.jar:. DubyCommand.java<br />Compiling Duby sources<br />mkdir -p dist<br />Building jar: /Users/headius/projects/tmp/duby/dist/duby.jar<br />mkdir -p dist<br />Building jar: /Users/headius/projects/tmp/duby/dist/duby-complete.jar<br /><br />~/projects/tmp/duby ➔ java -jar dist/duby-complete.jar run -e 'puts "Duby is Awesome!"'<br />Duby is Awesome!</pre><br /><br />Hopefully we'll soon have duby.jar, duby-complete.jar, and a new Duby gem released, but this is a quick way to get involved.<br /><br />I'll get back to you with a post on the Duby language itself Real Soon Now!<br /><br /><span style="font-weight:bold;"><span style="font-style:italic;">Update:</span></span> I have also uploaded a snapshot duby-complete.jar (which includes both the Main-Class for jar execution and the simple Ant task org.jruby.duby.ant.Compiler) on the <a href="http://github.com/headius/duby/downloads">Duby Github downloads page</a>. Have fun!